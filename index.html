<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Ananya â€” Birthday Surprise (multi-theme)</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Parisienne&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f1220; --glass:rgba(255,255,255,0.04);
    --accent-pink:#ff73c9; --accent-purple:#9b6bff; --accent-gold:#ffd66b;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;font-family:Poppins,system-ui,Arial;background:linear-gradient(180deg,#050412,#0e0820);color:#fff}
  .app{min-height:100vh;padding:18px;display:flex;flex-direction:column;gap:12px}
  /* theme switcher */
  .topbar{display:flex;gap:8px;align-items:center;justify-content:center;flex-wrap:wrap}
  .themeBtn{padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.03);cursor:pointer;font-weight:600}
  .themeBtn.active{box-shadow:0 10px 30px rgba(0,0,0,0.6);background:linear-gradient(90deg,var(--accent-pink),var(--accent-purple));color:#0b0f1a}

  /* Begin area */
  .start{display:flex;flex-direction:column;align-items:center;gap:12px;padding:16px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter:blur(6px)}
  .bigBtn{padding:12px 18px;border-radius:999px;border:none;background:linear-gradient(90deg,var(--accent-pink),var(--accent-purple));color:#071028;font-weight:700;cursor:pointer}

  /* main container holds themes as variants */
  .stage{position:relative;flex:1;display:flex;flex-direction:column;gap:12px}
  .viewer{position:relative;border-radius:16px;overflow:hidden;flex:1;background:var(--bg);display:flex;flex-direction:column}
  .slides{position:relative;flex:1;display:block}
  .slide{position:absolute;inset:0;opacity:0;transition:opacity .9s ease;display:flex;align-items:center;justify-content:center}
  .slide.active{opacity:1}
  .slide img{width:100%;height:100%;object-fit:cover}

  /* caption common */
  .captionBox{position:absolute;left:50%;transform:translateX(-50%);bottom:18px;padding:12px 16px;border-radius:12px;background:rgba(0,0,0,0.36);backdrop-filter:blur(6px);text-align:center;max-width:92%}
  .name{font-family:Parisienne,cursive;font-size:34px}
  .msg{font-size:13px;opacity:0.95;margin-top:6px;color:#f6eefe}

  /* controls */
  .controls{display:flex;gap:10px;align-items:center;padding:8px;justify-content:center}
  .iconBtn{padding:10px;border-radius:12px;background:rgba(255,255,255,0.03);cursor:pointer}
  .dots{display:flex;gap:8px}
  .dot{width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,0.18)}
  .dot.active{background:linear-gradient(90deg,var(--accent-pink),var(--accent-purple))}

  /* theme A: Minimal Clean */
  .theme-A .viewer{background:linear-gradient(180deg,#fff,#f8f7f6);color:#111}
  .theme-A .slide img{filter:contrast(.95) saturate(.9);mix-blend-mode:normal}
  .theme-A .captionBox{background:rgba(255,255,255,0.9);color:#111}
  .theme-A .bigBtn{background:linear-gradient(90deg,#fff4d2,#ffd66b);color:#111}

  /* theme B: Pink Cute */
  .theme-B .viewer{background:linear-gradient(180deg,#ffeff8,#fff0f6)}
  .theme-B .captionBox{background:linear-gradient(90deg,rgba(255,115,200,0.12),rgba(155,107,255,0.06));border:1px solid rgba(255,255,255,0.06)}
  .theme-B .name{color:var(--accent-pink)}

  /* theme C: Black Neon */
  .theme-C .viewer{background:linear-gradient(180deg,#060216,#09021a);border:1px solid rgba(255,255,255,0.02)}
  .theme-C .captionBox{background:linear-gradient(90deg, rgba(155,107,255,0.12), rgba(255,115,200,0.06)); box-shadow:0 8px 40px rgba(155,107,255,0.06)}
  .theme-C .name{color:var(--accent-purple);text-shadow:0 4px 18px rgba(155,107,255,0.16)}

  /* theme D: Scrapbook / Collage */
  .theme-D .viewer{background:linear-gradient(180deg,#fef6ef,#fffdfb);color:#222}
  .theme-D .slide img{object-fit:cover;filter:saturate(.95) contrast(.98);transform:rotate(-1deg)}
  .theme-D .captionBox{background:linear-gradient(90deg,rgba(255,255,255,0.98),rgba(255,250,245,0.98));color:#222;border:1px solid rgba(0,0,0,0.06)}
  .theme-D .name{color:#c04a7a;font-weight:700}

  /* theme E: Emotional Romantic */
  .theme-E .viewer{background:linear-gradient(180deg,#fff6f8,#fff0f6)}
  .theme-E .captionBox{background:linear-gradient(90deg, rgba(255,246,250,0.92), rgba(255,235,240,0.9));color:#37132a}
  .theme-E .name{color:#b02f6a}

  /* responsive */
  @media (max-width:720px){
    .name{font-size:28px}
    .captionBox{bottom:12px;padding:10px}
    .start h2{font-size:20px}
  }
</style>
</head>
<body>
  <div class="app theme-C" id="app"> <!-- default theme C -->
    <div class="topbar">
      <button class="themeBtn" data-theme="A">A â€” Minimal</button>
      <button class="themeBtn" data-theme="B">B â€” Pink Cute</button>
      <button class="themeBtn active" data-theme="C">C â€” Black Neon</button>
      <button class="themeBtn" data-theme="D">D â€” Scrapbook</button>
      <button class="themeBtn" data-theme="E">E â€” Emotional</button>
    </div>

    <div class="start" id="start">
      <div style="font-size:48px;background:linear-gradient(90deg,var(--accent-pink),var(--accent-purple));-webkit-background-clip:text;color:transparent">ðŸŽ€ For Ananya</div>
      <h2 style="font-family:Parisienne,cursive;font-size:36px">A Special Surprise</h2>
      <p style="opacity:0.9;max-width:88%;text-align:center">Tap Begin to open the surprise. Then switch between themes with the buttons above until you find the one she loves.</p>
      <button class="bigBtn" id="beginBtn">Begin âœ¨</button>
    </div>

    <div class="stage" id="stage">
      <div class="viewer" id="viewer">
        <div class="slides" id="slides">
          <!-- Replace these src values if needed; these filenames are the ones you uploaded -->
          <div class="slide active"><img src="3d-blue-6-six-digit-260nw-2439822983.jpg.webp" alt=""></div>
          <div class="slide"><img src="3d-blue-6-six-digit-260nw-2439822983 copy.jpg.webp" alt=""></div>
          <div class="slide"><img src="3d-blue-6-six-digit-260nw-2439822983 copy 3.jpg.webp" alt=""></div>
          <div class="slide"><img src="3d-blue-6-six-digit-260nw-2439822983 copy 4.jpg.webp" alt=""></div>
          <div class="slide"><img src="3d-blue-6-six-digit-260nw-2439822983 copy 5.jpg.webp" alt=""></div>
          <div class="slide"><img src="3d-blue-6-six-digit-260nw-2439822983 copy 6.jpg.webp" alt=""></div>
        </div>

        <div class="captionBox">
          <div class="name" id="name">Ananya</div>
          <div class="msg" id="msg">Ananya, you are a little bit of magic in a world that often forgets to sparkle.
Thank you for being a light, a warmth, and a beautiful reason to smile. May your birthday shine brighter than every star in the sky âœ¨ðŸ’—</div>
        </div>
      </div>

      <div class="controls">
        <div class="iconBtn" id="heartBtn">ðŸ’—</div>
        <div class="iconBtn" id="playBtn">â–¶ Play</div>
        <div style="flex:1"></div>
        <div class="dots" id="dots"></div>
      </div>
    </div>

    <audio id="audio" src="audio/birthday.mp3" loop></audio>
  </div>

<script>
  // Theme switching
  const app = document.getElementById('app');
  document.querySelectorAll('.themeBtn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('.themeBtn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const t = btn.dataset.theme;
      app.className = 'app theme-' + t;
    });
  });

  // slideshow
  const slides = Array.from(document.querySelectorAll('.slide'));
  const dots = document.getElementById('dots');
  let idx = 0;
  slides.forEach((s,i)=>{
    const d = document.createElement('div');
    d.className = 'dot' + (i===0 ? ' active':'' );
    d.addEventListener('click', ()=>{go(i)});
    dots.appendChild(d);
  });

  function update(){
    slides.forEach((s,i)=> s.classList.toggle('active', i===idx));
    Array.from(dots.children).forEach((d,i)=>d.classList.toggle('active', i===idx));
  }
  let timer = setInterval(()=>{ idx = (idx+1)%slides.length; update(); }, 3500);
  function resetTimer(){ clearInterval(timer); timer = setInterval(()=>{ idx = (idx+1)%slides.length; update(); }, 3500); }

  function go(i){ idx = i; update(); resetTimer(); }

  // Begin button: show viewer (hide start)
  const beginBtn = document.getElementById('beginBtn');
  const start = document.getElementById('start');
  const stage = document.getElementById('stage');
  beginBtn.addEventListener('click', ()=>{
    start.style.display = 'none';
    // ensure viewer visible
    stage.style.display = 'flex';
    // try play audio
    document.getElementById('audio').play().catch(()=>{});
    burstConfetti();
  });

  // play / pause
  const audio = document.getElementById('audio');
  const playBtn = document.getElementById('playBtn');
  let playing = false;
  playBtn.addEventListener('click', ()=>{
    if(!playing){ audio.play().catch(()=>{}); playBtn.textContent='â¸ Pause'; playing = true; }
    else { audio.pause(); playBtn.textContent='â–¶ Play'; playing = false; }
  });
  audio.addEventListener('play', ()=>{ playing = true; playBtn.textContent='â¸ Pause'; });
  audio.addEventListener('pause', ()=>{ playing = false; playBtn.textContent='â–¶ Play'; });

  // heart = confetti
  document.getElementById('heartBtn').addEventListener('click', burstConfetti);

  // simple confetti hearts implementation
  let confettiParticles = [];
  function burstConfetti(){
    const w = innerWidth, h = innerHeight;
    for(let i=0;i<40;i++){
      confettiParticles.push({
        x: w/2 + (Math.random()-0.5)*120,
        y: h/2 + (Math.random()-0.5)*60,
        vx: (Math.random()-0.5)*8,
        vy: -Math.random()*8 - 1,
        r: 4 + Math.random()*8,
        life: 80 + Math.random()*80,
        color: `hsl(${300 + Math.random()*60} 90% 60%)`
      });
    }
    if(!window._confettiRunning) { window._confettiRunning = true; runConfetti(); }
  }

  function runConfetti(){
    if(!document.getElementById('_cv')) {
      const c = document.createElement('canvas'); c.id = '_cv';
      Object.assign(c.style, {position:'fixed', left:0, top:0, inset:0, pointerEvents:'none', zIndex:9999});
      document.body.appendChild(c);
      c.width = innerWidth; c.height = innerHeight;
      window._cv = c; window._ctx = c.getContext('2d');
      window.addEventListener('resize', ()=>{ window._cv.width = innerWidth; window._cv.height = innerHeight; });
    }
    const ctx = window._ctx;
    ctx.clearRect(0,0,window._cv.width, window._cv.height);
    for(let i = confettiParticles.length - 1; i >= 0; i--){
      const p = confettiParticles[i];
      p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.life--;
      ctx.globalAlpha = Math.max(0, p.life / 120);
      ctx.fillStyle = p.color;
      ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fill();
      if(p.life <= 0) confettiParticles.splice(i,1);
    }
    if(confettiParticles.length > 0){
      requestAnimationFrame(runConfetti);
    } else {
      window._confettiRunning = false;
      if(window._cv) { try{ setTimeout(()=>{ window._cv.remove(); delete window._cv; delete window._ctx; }, 300); }catch(e){} }
    }
  }

  // touch swipe change for slides
  let sx = null;
  document.querySelector('.slides').addEventListener('touchstart', e => { sx = e.changedTouches[0].clientX; });
  document.querySelector('.slides').addEventListener('touchend', e => {
    if(sx === null) return;
    const dx = e.changedTouches[0].clientX - sx;
    if(Math.abs(dx) > 40){
      if(dx < 0) { idx = (idx + 1) % slides.length; update(); resetTimer(); }
      else { idx = (idx - 1 + slides.length) % slides.length; update(); resetTimer(); }
    }
    sx = null;
  });

  // initial UI adjustments
  document.getElementById('stage').style.display = 'none';
  update();
</script>
</body>
</html>
